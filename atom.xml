<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jhyu Bolg</title>
  
  <subtitle>保持好奇 持续学习</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https:yujhyu.github.io/"/>
  <updated>2019-01-16T08:03:23.373Z</updated>
  <id>https:yujhyu.github.io/</id>
  
  <author>
    <name>jhyu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>布局和包含块</title>
    <link href="https:yujhyu.github.io/2019/01/16/%E5%B8%83%E5%B1%80%E5%92%8C%E5%8C%85%E5%90%AB%E5%9D%97/"/>
    <id>https:yujhyu.github.io/2019/01/16/布局和包含块/</id>
    <published>2019-01-16T06:39:07.000Z</published>
    <updated>2019-01-16T08:03:23.373Z</updated>
    
    <content type="html"><![CDATA[<h3 id="什么是包含块？"><a href="#什么是包含块？" class="headerlink" title="什么是包含块？"></a>什么是包含块？</h3><p>一个元素的尺寸和位置经常受包含块的影响，包含块就是这个元素最近的祖先块（父级）元素的内容区，但也不总是这样。</p><h3 id="包含块的重要性，或者说：什么时候用？"><a href="#包含块的重要性，或者说：什么时候用？" class="headerlink" title="包含块的重要性，或者说：什么时候用？"></a>包含块的重要性，或者说：什么时候用？</h3><p>当我们对元素赋予百分比值时，元素的width、height、padding、margin，position被设置为absolute或fixed时，这些值的计算值通过包含块来计算。    </p><h3 id="疑问：那么sizing-box可否替代包含快？它们有什么区别？"><a href="#疑问：那么sizing-box可否替代包含快？它们有什么区别？" class="headerlink" title="疑问：那么sizing-box可否替代包含快？它们有什么区别？"></a>疑问：那么sizing-box可否替代包含快？它们有什么区别？</h3><p>不能代替。sizing-box是改变计算盒模型宽度和高度的属性。而包含块影响着元素的尺寸和位置。</p><h3 id="如何确定包含块？"><a href="#如何确定包含块？" class="headerlink" title="如何确定包含块？"></a>如何确定包含块？</h3><ol><li>position 属性为<code>static</code>或者<code>relative</code>，包含块就是由它的最近祖先（块元素）或块格式化上下文的内容区的边缘组成。</li><li>position 属性为<code>absolute</code>，包含块就是由它最近的 position 值为(<code>fixed</code>、<code>absolute</code>、<code>relative</code>、<code>sticky</code>)的祖先元素的内边距区的边缘组成。</li><li>如果 position 属性是 fixed，包含块就是由 viewport (in the case of continuous media) 或是组成的。</li><li>如果 position 属性是 absolute 或 fixed，包含块也可能是由满足以下条件的最近父级元素的内边距区的边缘组成的：<ul><li>1 transform 属性不为 none。</li><li>2 will-change 或 perspective 为一个改变值，但这两个属性仍处于开发中。</li><li>3 filter 不为none 或 will-change 值为 filter 但仅限于 Firefox浏览器。</li></ul></li></ol><h3 id="根据包含块计算百分值"><a href="#根据包含块计算百分值" class="headerlink" title="根据包含块计算百分值"></a>根据包含块计算百分值</h3><p>如上所述，如果某些属性被赋予一个百分值的话，它的计算值是由这个元素的包含块计算而来的。这些属性包括盒模型属性和偏移属性：</p><ol><li>要计算 <code>height</code> <code>top</code> 及 <code>bottom</code> 中的百分值，是通过包含块的 <code>height</code> 的值。如果包含块的 <code>height</code> 值会根据它的内容变化，而且包含块的 position 属性的值被赋予 <code>relative</code> 或 <code>static</code> ，那么，这些值的计算值为 0。</li><li>要计算 <code>width</code>, <code>left</code>, <code>right</code>, <code>padding</code>, <code>margin</code> 这些属性由包含块的 <code>width</code> 属性的值来计算它的百分值。</li></ol><h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;This is H3&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">例子中 H3 为static定位，所以它的包含块是距离它最近的div。</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    background: aliceblue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    width: 50%;   /* == 300px * .5 = 150px */</span><br><span class="line">    height: 25%;  /* == 200px * .25 = 50px */</span><br><span class="line">    margin: 5%;   /* == 300px * .05 = 10px */</span><br><span class="line">    padding: 5%;  /* == 200px * .05 = 10px */</span><br><span class="line">    background: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">例子中 div不是块元素，并没有形成格式上下文，所以 H3 的包含块为body，body的poistion：static，所以 H3 的高度为0。</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    dispaly: inline;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    width: 50%;   /* == body width * .5 */</span><br><span class="line">    height: 200px; /* == 百分值 为 0 */</span><br><span class="line">    margin: 5%;   /* == body width * .05 */</span><br><span class="line">    padding: 5%;  /* == body width * .05 */</span><br><span class="line">    position: absolute;</span><br><span class="line">    background: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">例子中 div是 H3 的包含块，因为div的poistion：sticky。(如果为 absolute || relative || fixed）同理</span><br><span class="line">H3 元素的百分值会受到 div的padding所影响。不过，如果包含块的box-sizing值为border-box，就没有这个问题。</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background: red;</span><br><span class="line">    position: sticky;</span><br><span class="line">    padding: 30px 20px;</span><br><span class="line">    /** box-sizing: border-box; **/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    width: 50%;   /* == (300 + 20 + 20) * .5 = 170 */</span><br><span class="line">    height: 25%;  /* == (200 + 30 + 30) * .25 = 65 */</span><br><span class="line">    margin: 5%;   /* == (300 + 20 + 20) * .05 = 17 */</span><br><span class="line">    padding: 5%;  /* == (300 + 20 + 20) * .05 = 17 */</span><br><span class="line">    position: absolute;</span><br><span class="line">    background: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">例子中 H3 元素为position: fixed，它的包含块为 viewport组成，H3的大小会跟随屏幕大小变化而变化。</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background: red;</span><br><span class="line">    padding: 30px 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    width: 50%;   /* 垂直滚动条 50% 的宽度 */</span><br><span class="line">    height: 25%;  /* 水平滚动条 50% 的高度*/</span><br><span class="line">    margin: 5%;   /* 垂直滚动条 5% 的宽度*/</span><br><span class="line">    padding: 5%;  /* 垂直滚动条 5% 的宽度*/</span><br><span class="line">    position: fixed;</span><br><span class="line">    background: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">例子中 元素position 属性为 fixed，它的包含块是div，因为div的transform属性值不是none。</span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    background: red;</span><br><span class="line">    top: 30px;</span><br><span class="line">    left: 0px;</span><br><span class="line">    transform: rotate(0deg); </span><br><span class="line">    /* will-change: transform; 功能还在开发中 */</span><br><span class="line">    /* perspective: 20px; 功能还在开发中 */</span><br><span class="line">    /* filter: brightness(1); 功能仅限于 firefox浏览器 */</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    width: 50%;   /* 150px */</span><br><span class="line">    height: 25%;  /* 50px */</span><br><span class="line">    margin: 5%;   /* 15 */</span><br><span class="line">    padding: 5%;  /* 15 */</span><br><span class="line">    position: fixed;</span><br><span class="line">    background: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;什么是包含块？&quot;&gt;&lt;a href=&quot;#什么是包含块？&quot; class=&quot;headerlink&quot; title=&quot;什么是包含块？&quot;&gt;&lt;/a&gt;什么是包含块？&lt;/h3&gt;&lt;p&gt;一个元素的尺寸和位置经常受包含块的影响，包含块就是这个元素最近的祖先块（父级）元素的内容区，但也不总
      
    
    </summary>
    
      <category term="CSS" scheme="https:yujhyu.github.io/categories/CSS/"/>
    
    
      <category term="盒模型" scheme="https:yujhyu.github.io/tags/%E7%9B%92%E6%A8%A1%E5%9E%8B/"/>
    
      <category term="包含块" scheme="https:yujhyu.github.io/tags/%E5%8C%85%E5%90%AB%E5%9D%97/"/>
    
      <category term="布局" scheme="https:yujhyu.github.io/tags/%E5%B8%83%E5%B1%80/"/>
    
  </entry>
  
</feed>
